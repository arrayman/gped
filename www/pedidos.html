<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=2" />
    <title>jquery mobile base_0.2</title>
    
	
	<!-- <link rel="stylesheet" href="./css/jquery.mobile-1.3.2.min.css" /> -->
	<!-- <script src="./js/jquery-2.0.3.min.js"></script> -->
	<!-- <script src="./js/JQueryMobile/jquery.mobile-1.3.2.min.js"></script>  -->
	<link rel="stylesheet" href="./css/jquery.mobile-1.3.2.css" />
	<link rel="stylesheet" href="./css/pedido.css" /> 
	<link rel="stylesheet" href="./css/icons.css" /> 
	<!-- Bootstrap 
    <link href="./css/bootstrap.min.css" rel="stylesheet" media="screen">-->
	
</head>

<body>

    <div data-role="page" id="main" data-title="Geped" >
        
		<div data-role="header" >
            <!-- <h1> Gestion de pedidos </h1> -->
			Gestion de pedidos - Pedidos
        </div>

		<div data-role="content" >
			<div class="ui-grid-b my-breakpoint">
				<div class="ui-block-a">
					<h6>+</h6>
				</div>

				<div class="ui-block-b">
					<h6>codigo</h6>
				</div>

				<div class="ui-block-c">
					<h6>descripci贸n</h6>
				</div>

				<span id="grid_pedidos"</span>

				<div class="ui-block-a">

				</div>

				<div class="ui-block-b">

				
				</div>

				<div class="ui-block-c">
				</div>

			</div>
		

		<div>
				<a href="#popupPedido" class="glyphishIcon" data-rel="popup" data-position-to="window" data-role="button"  data-inline="true" data-icon="pedido" data-transition="pop" data-iconpos="top" data-min="true" > Nuevo pedido </a>

				
				<!-- <a href="#popup" data-role="button" data-rel="dialog" data-transition="pop" data-theme="c" class="ui-btn ui-btn-corner-all ui-shadow ui-btn-up-c"><span class="ui-btn-inner ui-btn-corner-all" aria-hidden="true"><span class="ui-btn-text">Show page "popup" (as a dialog)</span></span></a> -->

<!-- 				<a href="#popupPedido" class="glyphishIcon" data-rel="popup" data-position-to="window" data-role="button" data-inline="true" data-icon="check" data-theme="a" data-transition="pop">Sign in</a>
				

				<a href="#popupPedido" data-rel="popup" data-position-to="window" data-role="button" data-inline="true" data-icon="check" data-theme="a" data-transition="pop">Sign in</a> -->
			</div>

<!-- <div data-role="dialog" id="popup" data-url="popup" tabindex="0" class="ui-page ui-body-c ui-overlay-a ui-dialog ui-page-active" role="dialog" style="min-height: 802px;">
				<div data-role="header" data-theme="e" class="ui-corner-top ui-overlay-shadow ui-header ui-bar-e" role="banner">
					<a href="#" data-icon="delete" data-iconpos="notext" class="ui-btn-left ui-btn ui-btn-up-e ui-btn-icon-notext ui-btn-corner-all ui-shadow" title="Close" data-theme="e">
						<span class="ui-btn-inner ui-btn-corner-all" aria-hidden="true">
							<span class="ui-btn-text">Close</span>
								<span class="ui-icon ui-icon-delete ui-icon-shadow"></span>
						</span>
					</a>
					<h1 class="ui-title" tabindex="0" role="heading" aria-level="1">Dialog</h1>
				</div>

				<div data-role="content" data-theme="d" class="ui-overlay-shadow ui-content ui-body-d" role="main">	
					<h2>Popup</h2>
					<p>I have an id of "popup" on my page container and only look like a dialog because the link to me had a 
						<code>data-rel="dialog"</code> 
						attribute which gives me this inset look and a 
						<code>data-transition="pop"</code> 
						attribute to change the transition to pop. Without this, I'd be styled as a normal page.
					</p>		
					<p><a href="#main" data-rel="back" data-role="button" data-inline="true" data-icon="back" data-theme="d" 
						class="ui-btn ui-btn-inline ui-btn-icon-left ui-btn-corner-all ui-shadow ui-btn-up-d" data-transition="pop" data-direction="reverse">
						<span class="ui-btn-inner ui-btn-corner-all" aria-hidden="true">
							<span class="ui-btn-text">Back to page "one"</span>
								<span class="ui-icon ui-icon-back ui-icon-shadow"></span>
						</span>
					</a>
					</p>	
				</div>
			
				<div data-role="footer" class="ui-overlay-shadow ui-corner-bottom ui-footer ui-bar-a" role="contentinfo">
					<h4 class="ui-title" tabindex="0" role="heading" aria-level="1">Page Footer</h4>
				</div>
			</div>
 -->

			<div data-role="popup" id="popupPedido" data-theme="a" class="ui-corner-all">
	    		<!-- <form> -->
	        		<div style="padding:10px 20px;">
			            <h3>Nuevo pedido</h3>
			            <label for="tbcod" class="ui-hidden-accessible">codigo:</label>
	            		<input type="text" size=5 name="user" id="tbcod" value="" placeholder="codigo" data-theme="a">
	            		<label for="tbdesc" class="ui-hidden-accessible">descripci贸n:</label>
	            		<input type="text" name="pass" id="tbdesc" value="" placeholder="descripci贸n" data-theme="a">
	            		<button onclick= "grabar_pedido()" type="submit" data-theme="c" data-icon="check">Guardar</button>
	        		</div>
	    		<!-- </form> -->
			</div>


		</div>		
				
			
		<div data-role="footer" data-theme="a" data-position="fixed">
			<div data-role="navbar">
				<ul>
					<li><a href="articulo.html#main" rel="external">Articulos</a></li>
					<li><a href="articulo2.html#main" rel="external">Articulos 2</a></li>
					<!-- <li><a href="p1.html" data-transition="none" >p1</a></li> -->
				</ul>
			</div><!-- /navbar -->
			<div class="ui-grid-b">
				<div class="ui-block-a">
					<p id="lbLog" > log: </p>		
				</div>


				<div class="ui-block-b">
					<p class="ui-btn-right"> <a>(c) arrayman.com</a> </p> 
					<a href="index.html#main" data-rel="back" data-role="button" > Regresar 2</a>
					<!-- <span style="float:right"> <a>(c) arrayman.com</a> </span>--> 
				</div>
			</div>
		</div> 


    </div>


<!-- ********************************************************* -->	
<!-- *****PAGINA POPUP**** -->	
<!-- ********************************************************* -->	




    <div data-role="dialog" id="pops_art" data-title="Geped" >
    	<div class="ui-grid-b my-breakpoint">
				<div class="ui-block-a">
					<a class="glyphishIcon" data-role="button" data-inline="true" onclick= "Grabar_pedido()" data-icon="check" data-iconpos="right" data-min="true"> Grabar </a>
				</div>

				<div class="ui-block-b">
					<h6>codigo</h6>
				</div>

				<div class="ui-block-c">
					<h6>descripci贸n</h6>
				</div>


				<div class="ui-block-a">

				</div>

				<div class="ui-block-b">
					
				
				</div>

				<div class="ui-block-c">
				</div>

				<div class="ui-block-a">

				</div>

				<div class="ui-block-b">
					110
				</div>

				<div class="ui-block-c">

					.
				</div>
			</div>
    </div>

	<script src="./js/jquery-2.0.3.js"></script>
    <script src="./js/JQueryMobile/jquery.mobile-1.3.2.js"></script> 
    <script type="text/javascript" src="cordova.js"></script>

    <!-- app files-->
        <script type="text/javascript" src="js/app/pedido.js"></script>
        <script type="text/javascript" src="js/app/articulo.js"></script>
        <script type="text/javascript" src="js/app/db.js"></script>
        <script type="text/javascript" src="js/app/index.js"></script>
		<script src="./js/jsrender/jsrender.js"></script> <!---->

	<!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <!-- <script src="//code.jquery.com/jquery.js"></script> -->
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <!-- <script src="./js/bootstrap-3.0.0/bootstrap.min.js"></script> -->

        <script type="text/javascript" >
        
			
					
    		$(document).ready(function () 
    		{
        		//load_arts_in_lv();
        		var g_oPed = pck_Ped.oPed;
        		render_pedidos();
      		});

    		
    		function grabar_pedido()
    		{
    			oPed = new pck_Ped.TPED();
    			oPed.codigo = $('#tbcod').val();
    			oPed.descrip = $('#tbdesc').val();
    			oPed.fecha = Date();

    			pck_Db.run_sql(pck_Db.oTDb,pck_Ped.db_Crud_tblPEDS(oPed),observer);  //inserto el pedido en sqlite

    			function observer(oresult)
    			{
    				if (oresult != null) //error
    					alert(oresult);
    				else
    					render_pedidos();

    			}
    		}

    		function render_pedidos(bRelolad)
    		{
    			//$('#grid_pedidos').html('<div class="ui-block-a"> botones </div><div class="ui-block-b">2123 </div> <div class="ui-block-c">Descripcion de 2123 </div>');
    			
    			//if (g_oPed.list.count() == 0) or (bRelolad)
    			if (g_oPed == null)
    				var g_oPed = pck_Ped.oPed;

				pck_Ped.dbget_peds(g_oPed,null,obs_loaded);

				function obs_loaded()
				{
					$('#grid_pedidos').html(pck_Ped.render_as_tmpl(g_oPed));    					
				}

    // 			<div class="ui-block-a">
				// </div>
				// <div class="ui-block-b">
				// </div>
				// <div class="ui-block-c">
				// </div>
    			//alert('registro insertado');
	   		}
    </script>

</body>

</html>
