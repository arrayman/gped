<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=2" />
    <title>jquery mobile base_0.2</title>
    
	
	<!-- <link rel="stylesheet" href="./css/jquery.mobile-1.3.2.min.css" /> -->
	<!-- <script src="./js/jquery-2.0.3.min.js"></script> -->
	<!-- <script src="./js/JQueryMobile/jquery.mobile-1.3.2.min.js"></script>  -->
	<link rel="stylesheet" href="./css/jquery.mobile-1.3.2.css" />
    <script src="./js/jquery-2.0.3.js"></script>
    <script src="./js/JQueryMobile/jquery.mobile-1.3.2.js"></script> 
	<script src="./js/jsonp/jquery.jsonp-2.4.0.js"></script>
	<script src="./js/p1.js"></script> 
	
	<script type="text/javascript">
		<!-- http://test.arrayman.com/gped/ws/webservice1.asmx/sArticulo?scod=110 -->
		function LoginButton_onclick() {
			jQuery.support.cors = true;
			var url_hello_world = "http://test.arrayman.com/gped/ws/webservice1.asmx/HelloWorld";
			var url_hello_world_localhost = "http://localhost:10804/ws/webservice1.asmx/HelloWorld";
			
			
			var url = url_hello_world; <!-- url_hello_world_localhost; -->
			console.log('ajax call');
			$.ajax({
				type: "GET",
				contentType: "text/xml; charset=utf-8", <!-- "application/json; charset=utf-8", -->
				dataType: "xml", <!-- "jsonp", -->
				url: url , 
				data: soapMessage, <!-- '{}', -->
				success: function(msg) {
					alert('sucess ' + msg.childNodes[0].textContent);
					//alert(msg.d);
					//jsonArray = $.parseJSON(msg.d);
					//alert(jsonArray);
					
					//var $ul = $( '<ul id="details">' );
					//for(i=0; i < jsonArray.length; i++)
					//{
					//	$("#details").append('<li id="'+i+'" name="head" >'+jsonArray[i].name+'</li>' );
					//} $('#details').listview('refresh');
				},
				error: function(msg) {
					alert("Error invocando " + url);
				}
			});
		}
		
		function json_onclick() {
			//console.log('click');
			var url_hello_world = "http://test.arrayman.com/gped/ws/webservice1.asmx/HelloWorld";
			var url_hello_world_localhost = "http://localhost:10804/ws/webservice1.asmx/HelloWorld";
			var serviceURL = url_hello_world; <!-- url_hello_world_localhost; -->
			alert("clicked");
			$.getJSON(serviceURL , function(data) {
			console.log("ok " + data );
			alert(data);
			/*$('#employeeList li').remove();
			employees = data.items;
			$.each(employees, function(index, employee) {
				$('#employeeList').append('<li><a href="employeedetails.html?id=' + employee.id + '">' +
					'<img src="pics/' + employee.picture + '"/>' +
					'<h4>' + employee.firstName + ' ' + employee.lastName + '</h4>' +
					'<p>' + employee.title + '</p>' +
					'<span class="ui-li-count">' + employee.reportCount + '</span></a></li>');
				});
			$('#employeeList').listview('refresh');
			*/
			});
		}
		         
		function jsonP_onclick() {
			//console.log('click');
			var url_hello_world = "http://test.arrayman.com/gped/ws/webservice1.asmx/HelloWorld";
			var url_hello_world_localhost = "http://localhost:10804/ws/webservice1.asmx/HelloWorld";
			var serviceURL = url_hello_world; <!-- url_hello_world_localhost; -->
			alert("clicked");
			$.jsonp({
				url: serviceURL,  <!-- 'http://twitter.com/status/user_timeline/samcroft.json?count=20', -->
				callbackParameter: 'callback',
				success: function(data, status) {
					//$('#your-tweets').append('<li>The feed loads fine');
					//$.each(data, function(i,item){
					//	var tweet = item.text;
					//	$('#your-tweets').append('<li>'+tweet);
					//});
					
					alert('ok');
				},
				error: function(){
		            //$('#your-tweets').append('<li>There was an error loading the feed');
					alert('Error en JsonP');
					$('#lbLog').html('Error en JsonP');
				}
			});

		}
	</script>
		<!-- function LoginButton_onclick() {
		$.ajax({
			type: "POST",
			contentType: "application/json; charset=utf-8",
			dataType: "json",
			url:    "http://182.72.192.18/webservicedemo/service.asmx/HelloWorld",
			data: '{}',
			success: function(msg) {
				jsonArray = $.parseJSON(msg.d);
				var $ul = $( '<ul id="details">' );
				for(i=0; i < jsonArray.length; i++)
				{
					$("#details").append('<li id="'+i+'" name="head" >'+jsonArray[i].name+'</li>' );
				} $('#details').listview('refresh');
			},
			error: function(msg) {
				alert("Error");
			}
		});
 -->
</script>
	
	
	
	
	
</head>

<body>

    <div data-role="page" id="main" data-title="Geped" >
        
		<div data-role="header" >
            <!-- <h1> Gestion de pedidos </h1> -->
			Gestion de pedidos
        </div>
		
		<div data-role="header" data-theme="b">
			<div data-role="navbar">
				<ul>
					<li><a href="index.html#main" data-transition="none" rel="external">Lista</a></li>
					<li><a href="index.html#pantalla2" data-transition="none" rel="external">Articulo</a></li>
					<li><a href="p1.html" data-transition="none" >p1</a></li>
				</ul>
			</div><!–- /navbar –->
		</div>
		<!-- <div data-role="content" > -->
			<!-- <p> contenido </p>
			
			<h1> contendiod p1.html  </h1> -->
			
			<h1>DEMO PAGE</h1>

			<div id="DEMO">  
				<input id="LoginButton" type="button" value="GET DATA" onclick= "LoginButton_onclick()" />  <!--  "CallService()" />  -->
				<input id="kkButton" type="button" value="GET DATA jsonp"  onclick= "jsonP_onclick()" /> 
			</div>

			<div id="divList" data-role="content">
				<ul id="details" data-role="listview" data-inset="true"></ul>
			</div>
			
		<!-- </div> -->
		
	
		<div data-role="footer" data-theme="b"data-position="fixed">
			 <a> (c) arrayman.com</a> 
			 <p id=lbLog> log: </p>
			
			
		</div> 
    </div>
	
	
    
		
	
	
        <!-- <script type="text/javascript" src="cordova.js"></script>
        <script type="text/javascript" src="js/index.js"></script> -->
        
           <!-- app.initialize();
			oApp.init('hola mundo'); 
        </script> -->
</body>

</html>
